steps:
  - label: "Jacoco Test Coverage"
    command: "bash scripts/unit-tests-coverage.sh"
    key: "generate-code-coverage"
    notify:
      - github_commit_status:
          context: "buildkite/code-coverage"
    artifact_paths:
      - "**/mockBuildDir/reports/jacoco/*/*.xml"

  - label: "Parse Jacoco Report"
    #command: "ruby scripts/jacocoXmlReportParser.rb"
    command: "bash scripts/hello.sh **/mockBuildDir/reports/jacoco/*/*.xml"
    key: "code-coverage-report"
    depends_on:
      - step: "generate-code-coverage"
